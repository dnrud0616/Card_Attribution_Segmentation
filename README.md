# Card_Attribution_Segmentation

## 신용카드 고객 이탈 예측 및 CLV 분석 프로젝트

### 1.프로젝트 정보
기간: 2024.08.19 ~ 2024.09.26 (6주)
인원: 6명

#### 배경 및 목적
- 신용카드 회사의 고객 이탈 문제 해결
- 고객 데이터를 활용한 이탈 예측 모델 개발
- 고객 생애 가치(CLV) 기반 고객 세분화 및 관리 전략 수립
  
#### 주요 역할
- 데이터 전처리 및 탐색적 데이터 분석(EDA)
- Python을 활용한 머신러닝 모델링 (RandomForest)
- 이탈 예측 규칙 추출 및 해석
- CLV 계산 및 고객 세분화 분석
- 전략 시나리오 분석

### 2. 데이터 분석 및 모델링

#### 데이터셋
출처: Kaggle BankChurners Dataset
샘플 수: 10,127명
변수: 21개 (인구통계학적 정보, 거래 정보, 이탈 여부 등)
#### 데이터 전처리
- OrdinalEncoding: 교육/소득 수준 등 순서가 있는 범주형 변수에 
- One-Hot Encoding: 순서와 관계없는 범주형 변수에 적용
#### 탐색적 데이터 분석(EDA) 주요 결과
사진1
사진2

- 전체 이탈률: 약 16.07%
- 50대 연령층이 상대적으로 높은 이탈률 보임
- 소득이 낮을수록 이탈률 높음 (특히 "Less than $40K" 그룹)
- Blue 카드 사용자가 가장 많으며, 16.1%의 이탈률 보임
- 총 거래 금액과 거래 횟수 간 높은 상관관계(0.81)
- 신용 한도와 평균 잔여한도는 완벽한 양의 상관관계(1.0)

#### 모델링
**1. 변수 선택**
'Avg_Open_To_Buy' 변수 제외 (Credit_Limit과 완벽한 상관관계)

**2. RandomForest 모델 사용**
GridSearchCV를 활용한 하이퍼파라미터 튜닝
최적 파라미터: n_estimators: 300, max_depth: 20

**3. 모델 성능**
정확도(Accuracy): 0.96
정밀도(Precision): 0.92
재현율(Recall): 0.81
F1-score: 0.86

**4. 변수 중요도 및 규칙 추출**
고객의 이탈 확률을 예측한 Random Forest 모델의 변수 중요도 파악 후 Elbow Point인 상위 7개 변수로 Decision Tree 실행하여 규칙
추출
사진 사진

- Gini 지수 ≤ 0.15, 샘플 크기 ≥ 200인 규칙 추출

**규칙 목록**
| 규칙 번호   | 조건 1                                             | 조건 2                            | 조건 3                               | 조건 4                           |
|-------------|----------------------------------------------------|-----------------------------------|--------------------------------------|----------------------------------|
| 규칙 1      | Total_Trans_Ct <= 54.50                            | Total_Revolving_Bal <= 671.50     | Total_Trans_Amt > 1911.50            | Total_Ct_Chng_Q4_Q1 <= 0.78      |
| 규칙 2      | Total_Trans_Ct <= 54.50                            | Total_Revolving_Bal > 671.50      | Total_Relationship_Count > 2.50      | Total_Trans_Amt <= 2103.00       |
| 규칙 3      | Total_Trans_Ct > 54.50                             | Total_Trans_Amt <= 5467.00        | Total_Trans_Ct > 57.50               | Total_Trans_Ct <= 63.50          |
| 규칙 4      | Total_Trans_Ct > 54.50                             | Total_Trans_Amt <= 5467.00        | Total_Trans_Ct > 57.50               | Total_Trans_Ct > 63.50           |
| 규칙 5      | Total_Trans_Ct > 54.50                             | Total_Trans_Amt > 5467.00         | Total_Trans_Ct > 78.50               | Total_Ct_Chng_Q4_Q1 <= 0.97      |

각 변수가 이탈 확률에 영향을 미치는 패턴 파악
→ 규칙을 CLV 그룹에 적용한 후 이탈 확률 감소에 효과적인 규칙 도출

**CLV 계산 및 고객 세분화**

CLV 계산 요소: 월평균 거래금액, 거래빈도, 리볼빙 잔액 비율, 유지 확률
5개 그룹으로 고객 분류: Very Low, Low, Medium, High, Very High
사진

**<타겟 마켓팅 대상>**
1. CLV 상위그룹(High, Very High) 고객 중 이탈 확률이 높운 고객
2. 고객 중 이탈 확률이 높은 고객(CLV Medium, Low, Very Low)
3. 이탈할 것이라고 예측했으나 이탈하지 않은 고객 → 고위험 고객군으로 분리 → 맞춤 전략 필요
4. 이탈하지 않을 것이라고 예측했으나 이탈한 고객 → 해당 고객의 특성 파악 . 후맞춤 전략 도입 필요


### 3. 결과 및 기대효과

**주요 결과**

| 구분                   | CLV Very Low | CLV Low | CLV Medium | CLV High | CLV Very High | High Attribution | Unexpected Attribution |
|------------------------|--------------|---------|------------|----------|---------------|------------------|------------------------|
| 적용 규칙              | 규칙 2       | 규칙 4  | 규칙 4     | 규칙 4   | 규칙 5        | 규칙 2           | 규칙 3                 |
| 적용 전 이탈 확률       | 0.2272       | 0.2558  | 0.0422     | 0.1256   | 0.0454        | 0.6199           | 0.3213                 |
| 적용 후 이탈 확률       | 0.1084       | 0.0245  | 0.0128     | 0.0171   | 0.0276        | 0.5467           | 0.2110                 |
| 변화율 (%)             | -52.3        | -90.4   | -69.6      | -86.4    | -39.3         | -11.8            | -34.3                  |


**규칙별 적용 가능 전략**

| CLV 그룹        | 적용 규칙        | 주요 전략                                                                                  |
|-----------------|------------------|--------------------------------------------------------------------------------------------|
| Very Low & Low  | 규칙 2, 규칙 4   | • 거래 횟수 증가 및 고객 관계 강화<br>• 저비용 혜택을 통한 거래 유도<br>• 금융 혜택 제공      |
| Low             | 규칙 1            | • 소액 구매 시 보너스 포인트 제공<br>• 추천 보상 프로그램 활용                              |
| Low & Medium    | 규칙 3            | • 중간 정도의 혜택을 제공하여 고객의 거래 증가<br>(예: 업그레이드 기회, 특별 할인)            |
| Medium          | 규칙 4            | • VIP 프로그램이나 전용 혜택을 제공하여 장기 고객으로 유지                                   |
| High & Very High| 규칙 5            | • 개인 맞춤형 서비스 제공<br>• 프리미엄 상품 제안 및 특전 행사 초대                          |

